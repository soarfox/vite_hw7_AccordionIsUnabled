import{_ as m,f as v,r as l,o as r,c,a as t,F as P,g as $,h as f,b as u,t as p,w as y,d as w,i as C}from"./index-a7a29e29.js";const{VITE_API:n,VITE_APIPATH:d}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_APIPATH:"cheetah116",BASE_URL:"/vite_hw7_AccordionIsUnabled/",MODE:"production",DEV:!1,PROD:!0},k={props:["category"],data(){return{products:[]}},methods:{getPastaAll(){this.$http.get(`${n}/api/${d}/products/all`).then(e=>{this.products=e.data.products}).catch(e=>{console.log(e)})},getPastaCategoryProducts(e){this.$http.get(`${n}/api/${d}/products/?category=${e}`).then(s=>{this.products=s.data.products}).catch(s=>{console.log(s)})},addToCart(e){const s={product_id:e,qty:1};this.$http.post(`${n}/api/${d}/cart`,{data:s}).then(i=>{alert("已加入購物車")}).catch(i=>{alert(i.response.data.message)})}},components:{RouterLink:v},mounted(){this.$route.params.category===void 0?(console.log("this.$route=",this.$route),console.log("無分類資料, 顯示全部商品"),this.getPastaAll()):(console.log("顯示分類商品"),console.log("this.$route.params.category=",this.$route.params.category),this.getPastaCategoryProducts(this.$route.params.category))}},A={class:"container my-5"},V={key:0,class:"row"},b={class:"col-2"},T={class:"list-group text-center fw-bold"},I={class:"col-10"},x={class:"row row-cols-1 row-cols-md-3 g-4"},E={class:"card h-100"},L=["src"],N={class:"card-body"},R={class:"card-title fw-bold"},B={class:"float-end"},D={class:"card-footer bg-white"},U=["onClick"];function F(e,s,i,H,g,a){const _=l("RouterLink"),h=l("router-view");return r(),c("div",A,[this.$route.params.id?f("",!0):(r(),c("div",V,[t("div",b,[t("div",T,[t("a",{href:"#/products",class:"list-group-item list-group-item-action",onClick:s[0]||(s[0]=o=>a.getPastaAll("全部商品"))},"全部商品"),t("a",{href:"#/products",class:"list-group-item list-group-item-action",onClick:s[1]||(s[1]=o=>a.getPastaCategoryProducts("青醬義大利麵"))},"青醬義大利麵"),t("a",{href:"#/products",class:"list-group-item list-group-item-action",onClick:s[2]||(s[2]=o=>a.getPastaCategoryProducts("蕃茄義大利麵"))},"蕃茄義大利麵"),t("a",{href:"#/products",class:"list-group-item list-group-item-action",onClick:s[3]||(s[3]=o=>a.getPastaCategoryProducts("奶油義大利麵"))},"奶油義大利麵")])]),t("div",I,[t("div",x,[(r(!0),c(P,null,$(g.products,o=>(r(),c("div",{class:"col",key:o.id},[t("div",E,[t("img",{src:o.imageUrl,class:"card-img-top",alt:""},null,8,L),t("div",N,[t("h5",R,p(o.title),1),t("span",B,"NT$ "+p(o.price),1)]),t("div",D,[u(_,{to:`/singleProduct/${o.id}`,class:"btn btn-outline-secondary w-50"},{default:y(()=>[w(" 查看更多 ")]),_:2},1032,["to"]),t("a",{href:"#",class:"btn btn-outline-danger w-50",onClick:C(M=>a.addToCart(o.id),["prevent"])},"加入購物車",8,U)])])]))),128))])])])),u(h)])}const S=m(k,[["render",F]]);export{S as default};
